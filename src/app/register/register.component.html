<body class="bg-cover bg-center bg-fixed">
  <div class="min-h-screen flex justify-center items-center">
    <div class="max-w-lg w-full p-10 bg-sky-900 bg-opacity-85 rounded-lg shadow-lg">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <h2 class="text-center text-2xl p-2 font-semibold mb-6 text-white">Register</h2>

        <!-- Username Field -->
        <div class="mb-6">
          <label for="username" class="block font-bold text-white">Username</label>
          <input 
            type="text" 
            id="username" 
            formControlName="username" 
            placeholder="Enter your username" 
            class="w-full bg-white p-2 mt-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400" 
          />
          <small *ngIf="f['username'].invalid && f['username'].touched" class="p-error text-red-500 text-sm">
            Username is required or must be at least 3 characters long
          </small>
        </div>

        <!-- Email Field -->
        <div class="mb-6">
          <label for="email" class="block font-bold text-white">Email</label>
          <input 
            type="email" 
            id="email" 
            formControlName="email" 
            placeholder="Enter your email" 
            class="w-full bg-white p-2 mt-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400" 
          />
          <small *ngIf="f['email'].invalid && f['email'].touched" class="p-error text-red-500 text-sm">
            Email is required or must be a valid email address
          </small>
        </div>

        <!-- Password Field -->
        <div class="mb-6">
          <label for="password" class="text-white text-lg">Password</label>
          <p-password 
            id="password"
            formControlName="password"
            placeholder="Enter your password"
            [toggleMask]="true"
            [style]="{'width': '100%'}"
            [feedback]="false"
            [ngClass]="{ 'p-invalid': f['password'].invalid && f['password'].touched }"
            class="p-password w-full p-border-round focus:outline-none focus:ring-2 focus:ring-blue-400"
          ></p-password>
          <small *ngIf="f['password'].invalid && f['password'].touched" class="p-error text-red-500 text-sm">
            Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character.
          </small>
        </div>

        <!-- Confirm Password Field -->
        <div class="mb-4">
          <label for="confirmPassword" class="block font-bold text-white">Confirm Password</label>
          <input 
            type="password" 
            id="confirmPassword" 
            formControlName="confirmPassword" 
            placeholder="Confirm your password" 
            class="w-full bg-white p-2 mt-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400" 
          />
          <small *ngIf="f['confirmPassword'].invalid && f['confirmPassword'].touched" class="p-error text-red-500 text-sm">
            Passwords must match
          </small>
        </div>

        <div class="mb-4 w-full justify-center flex">
          <label class="block font-bold text-white w-full">Gender</label>
          <div class="flex gap-14 ">
            <label class="flex items-center text-white">
              <input 
                type="radio" 
                formControlName="gender" 
                value="male" 
                style="appearance: radio; width: 1rem; height: 1rem; margin: 0;" 
                class="mr-2" 
              />
              Male
            </label>
            <label class="flex items-center text-white">
              <input 
                type="radio" 
                formControlName="gender" 
                value="female" 
                style="appearance: radio; width: 1rem; height: 1rem; margin: 0; " 
                class="mr-2" 
              />
              Female
            </label>
            <label class="flex items-center text-white">
              <input 
                type="radio" 
                formControlName="gender" 
                value="other" 
                style="appearance: radio; width: 1rem; height: 1rem; margin: 0;" 
                class="mr-2" 
              />
              Other
            </label>
          </div>
          <small *ngIf="f['gender'].invalid && f['gender'].touched" class="p-error text-red-500 text-sm">
            Please select a gender
          </small>
        </div>
        
        
        <!-- Date of Birth and Country in the same line -->
<!-- Date of Birth and Country in the same line without grid -->
<div class="p-fluid ">
  <div class="p-field mb-4">
    <label for="dob" class="block font-bold text-white">Date of Birth</label>
    <p-calendar 
      formControlName="dob" 
      [showIcon]="true" 
      placeholder="Select your birth date" 
      class="w-full"
      dateFormat="mm/dd/yy"
      [ngStyle]="{'width': '100%'}">
    </p-calendar>
    <small *ngIf="f['dob'].invalid && f['dob'].touched" class="p-error text-red-500 text-sm">
      Date of birth is required
    </small>
  </div>

  <div class="p-field mb-4" >
    <label for="country" class="block font-bold text-white">Country</label>
    <p-dropdown 
      [options]="countryList" 
      formControlName="country" 
      optionLabel="name" 
      optionValue="code">
    </p-dropdown>
    <small *ngIf="f['country'].invalid && f['country'].touched" class="p-error text-red-500 text-sm">
      Please select a country
    </small>
  </div>
</div>


        <!-- Terms and Conditions Checkbox -->
<div class="mb-4 flex items-center text-white">
  <p-checkbox formControlName="terms_accepted" label="I agree to the terms and conditions" binary="true" class="mr-2"></p-checkbox>
  <button type="button" (click)="showTermsDialog()" class="text-white underline ml-2">
    View Terms
  </button>
 
  <!-- Terms and Conditions Modal -->
<p-dialog header="Terms Content" [(visible)]="termsVisible" [style]="{width: '50vw'}">
  <div>
    <hr>
    1. Acceptance
      By accessing or using our services, you agree to comply with our Terms and Conditions. If you disagree, please do not use our services.
      <hr>
      2. Account Registration
      You may need to create an account to use certain features. You are responsible for maintaining the confidentiality of your account details and activities under your account.
      <hr>
      3. User Conduct
      You agree not to engage in unlawful activities, upload harmful content, or interfere with the operation of our services.
      <hr>
      4. Privacy
      Your personal information is protected in accordance with our Privacy Policy.
      <hr>
      5. Intellectual Property
      All content and materials on the service are owned by us and protected by copyright. You may not use them without permission.
      <hr>
      6. Liability
      We are not liable for any damages arising from your use of our services.
      <hr>
      7. Termination
      We reserve the right to suspend or terminate your account if you violate these Terms.
      <hr>
      8. Governing Law
      These terms are governed by the laws of [Your Jurisdiction].
      <hr>
      9. Dispute Resolution
      Disputes will be resolved through arbitration in [Your Jurisdiction].
      <hr>
      10. Changes
      We may update these Terms, and any changes will be effective immediately upon posting.
      <hr>
      11. Contact
      For questions, please contact us at [Email].
      <hr>
   
    <!-- Replace with actual terms text or content -->
  </div>
  <p-footer>
    <button type="button" pButton label="Close" icon="pi pi-times" (click)="termsVisible = false"></button>
  </p-footer>
</p-dialog>
</div> <small *ngIf="f['terms_accepted'].invalid && f['terms_accepted'].touched" class="p-error text-red-500 text-sm">
  You must agree to the terms and conditions
</small>
<button
type="submit"
pButton
label="Register"
icon="pi pi-user"
[disabled]="registerForm.invalid"
class="text-center w-full p-3 rounded-md bg-gray-300 text-sky-900 mt-3 hover:bg-sky-600 hover:text-white disabled:bg-gray-500"
></button>
        <!-- Back to Home Link -->
        <div class="text-center">
          <a routerLink="/" class="hover:bg-sky-700 text-white mt-5 inline-block text-center transition-colors duration-300">Back to Home</a>
        </div>
      </form>
    </div>
  </div>
</body>
